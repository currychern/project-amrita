<template name="App_donations">
  <div class="container">
    {{#if addDonation}}
      {{> Add_donation}}
    {{else}}
      <button class="button-add new-donation">New Donation</button>
    {{/if}}
    {{#each donationList}}
      {{> Donation}}
    {{/each}}
  </div>
</template>

<template name="Add_donation">
  <div class="form-add">
    <i class="fa fa-close"></i>
    {{> quickForm
      collection=donations
      id="insertDonationForm"
      type="method"
      meteormethod="donations.insert"
      buttonContent="Next"
    }}
  </div>
</template>

<template name="Donation">
  <article class="donation">
    {{#if editDonation}}
      <h3>Edit Donation</h3>
      {{> quickForm
        collection=donations
        doc=this
        id=updateDonationId
        type="method-update"
        meteormethod="donations.update"
        singleMethodArgument=true
        autosave=true
      }}
    {{else}}
      <h3>{{nickname}} ({{donationType}})</h3>
        <p>
          {{#each foods}}
            <span class="food">{{name}} - {{amount}}</span>
          {{/each}}
        </p>
        <a href="/donation/{{_id}}">View Details</a>
    {{/if}}
    <i class="fa fa-pencil"></i>
    <i class="fa fa-trash"></i>
  </article>
</template>
